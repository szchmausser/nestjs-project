
/* !!! This is code generated by Prisma. Do not edit directly. !!! */
/* eslint-disable */
// biome-ignore-all lint: generated file
// @ts-nocheck 
/*
 * WARNING: This is an internal file that is subject to change!
 *
 * üõë Under no circumstances should you import this file directly! üõë
 *
 * Please import the `PrismaClient` class from the `client.ts` file instead.
 */

import * as runtime from "@prisma/client/runtime/client"
import type * as Prisma from "./prismaNamespace.js"


const config: runtime.GetPrismaClientConfig = {
  "previewFeatures": [],
  "clientVersion": "7.2.0",
  "engineVersion": "0c8ef2ce45c83248ab3df073180d5eda9e8be7a3",
  "activeProvider": "sqlite",
  "inlineSchema": "// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\ngenerator client {\n  provider     = \"prisma-client\"\n  output       = \"../generated/prisma\"\n  moduleFormat = \"cjs\"\n}\n\ndatasource db {\n  provider = \"sqlite\"\n}\n\nenum Action {\n  manage\n  create\n  read\n  update\n  delete\n}\n\nenum SubjectEnum {\n  Post\n  User\n  all\n}\n\n// =============================================================================\n// SISTEMA DE AUTORIZACI√ìN H√çBRIDO: RBAC + ABAC + Claims\n// =============================================================================\n// \n// Este schema implementa un sistema de autorizaci√≥n flexible que combina:\n// \n// 1. RBAC (Role-Based Access Control):\n//    - Los usuarios heredan permisos a trav√©s de roles\n//    - Un usuario puede tener m√∫ltiples roles simult√°neamente\n//    - Los roles agrupan permisos l√≥gicamente relacionados\n// \n// 2. ABAC (Attribute-Based Access Control):\n//    - Los permisos pueden tener condiciones basadas en atributos del recurso\n//    - Ejemplo: { \"authorId\": \"${user.id}\" } permite solo acceder a recursos propios\n//    - Las condiciones se eval√∫an en tiempo de ejecuci√≥n por CASL\n// \n// 3. Claims (Permisos Directos):\n//    - Permisos asignados directamente al usuario, sin pasar por roles\n//    - Pueden OTORGAR capacidades extras (inverted: false)\n//    - Pueden REVOCAR capacidades heredadas (inverted: true)\n//    - √ötil para excepciones, delegaciones temporales o sanciones\n// \n// 4. Caracter√≠sticas Avanzadas:\n//    - Permisos y roles con expiraci√≥n temporal\n//    - Auditor√≠a completa (qui√©n, cu√°ndo, por qu√©)\n//    - Soft delete para preservar historial\n//    - Control de usuarios activos/inactivos\n// \n// =============================================================================\n\n// -----------------------------------------------------------------------------\n// ENTIDAD CORE: Usuario\n// -----------------------------------------------------------------------------\n// Representa cualquier actor del sistema que requiera autenticaci√≥n y autorizaci√≥n.\n// Un usuario puede estar activo, inactivo o soft-deleted.\n// -----------------------------------------------------------------------------\nmodel User {\n  id Int @id @default(autoincrement())\n\n  // Identificador √∫nico para autenticaci√≥n\n  email String @unique\n\n  // Informaci√≥n b√°sica del usuario\n  name String?\n\n  password String\n\n  // -------------------------------------------------------------------------\n  // CONTROL DE ACCESO\n  // -------------------------------------------------------------------------\n\n  // Permite deshabilitar el acceso sin eliminar datos hist√≥ricos.\n  // false = Usuario bloqueado temporalmente (suspensi√≥n, sanci√≥n, etc.)\n  // true = Usuario con acceso normal al sistema\n  isActive           Boolean   @default(true)\n  // Opcionalmente, registrar cu√°ndo y por qu√© se desactiv√≥ el usuario\n  deactivatedAt      DateTime?\n  deactivationReason String?\n\n  // Soft delete: Marca de tiempo de eliminaci√≥n l√≥gica.\n  // null = Usuario activo en el sistema\n  // timestamp = Usuario eliminado (pero datos preservados para auditor√≠a)\n  // NUNCA eliminar f√≠sicamente usuarios con actividad hist√≥rica\n  deletedAt DateTime?\n\n  // -------------------------------------------------------------------------\n  // TIMESTAMPS DE AUDITOR√çA\n  // -------------------------------------------------------------------------\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // √ötil para seguridad: detectar cuentas inactivas o comprometidas\n  lastLoginAt DateTime?\n\n  // -------------------------------------------------------------------------\n  // RELACIONES DE AUTORIZACI√ìN\n  // -------------------------------------------------------------------------\n\n  // Roles asignados a este usuario (herencia de permisos)\n  // Un usuario puede tener m√∫ltiples roles: ['EDITOR', 'MODERATOR']\n  roles UserRole[] @relation(\"UserRoles\")\n\n  // Roles que este usuario ha asignado a otros (auditor√≠a)\n  // Permite rastrear: \"¬øQui√©n le dio rol de ADMIN a Juan?\"\n  assignedRoles UserRole[] @relation(\"AssignedRoles\")\n\n  // Permisos directos asignados a este usuario (excepciones/claims)\n  // Pueden ser grants (permisos extra) o revocations (prohibiciones)\n  directPermissions UserPermission[] @relation(\"UserPermissions\")\n\n  // Permisos que este usuario ha asignado a otros (auditor√≠a)\n  assignedPermissions UserPermission[] @relation(\"AssignedPermissions\")\n\n  // -------------------------------------------------------------------------\n  // √çNDICES DE PERFORMANCE\n  // -------------------------------------------------------------------------\n\n  // B√∫squeda de usuarios activos por email (login com√∫n)\n  @@index([email, isActive])\n  // Filtrado de usuarios eliminados (reportes de auditor√≠a)\n  @@index([deletedAt])\n}\n\n// -----------------------------------------------------------------------------\n// ENTIDAD CORE: Rol\n// -----------------------------------------------------------------------------\n// Un rol agrupa un conjunto de permisos relacionados l√≥gicamente.\n// Ejemplos: 'ADMIN', 'EDITOR', 'MODERATOR', 'VIEWER', 'GUEST'\n// \n// PRINCIPIO DE DISE√ëO:\n// - Los roles deben representar funciones o responsabilidades del negocio\n// - Evitar roles como 'USUARIO_CON_PERMISO_X' (usar permisos directos)\n// - Un rol debe ser reutilizable para m√∫ltiples usuarios\n// -----------------------------------------------------------------------------\nmodel Role {\n  id Int @id @default(autoincrement())\n\n  // Identificador √∫nico del rol en el sistema (convenci√≥n: UPPER_SNAKE_CASE)\n  // Ejemplos: 'ADMIN', 'CONTENT_EDITOR', 'FINANCIAL_ANALYST'\n  name String @unique\n\n  // Documentaci√≥n interna para administradores del sistema.\n  // Describe el prop√≥sito del rol, casos de uso y responsabilidades.\n  // Ejemplo: 'Puede editar y publicar contenido, pero no eliminar usuarios'\n  description String?\n\n  // Permite deshabilitar roles sin eliminar su configuraci√≥n.\n  // false = Rol deshabilitado (no se aplica aunque est√© asignado)\n  // true = Rol activo\n  // √ötil para deprecar roles gradualmente o hacer pruebas\n  isActive Boolean @default(true)\n\n  // -------------------------------------------------------------------------\n  // TIMESTAMPS\n  // -------------------------------------------------------------------------\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // -------------------------------------------------------------------------\n  // RELACIONES\n  // -------------------------------------------------------------------------\n\n  // Permisos que componen este rol (configuraci√≥n est√°tica del rol)\n  permissions RolePermission[]\n\n  // Usuarios que tienen este rol asignado\n  users UserRole[]\n\n  // -------------------------------------------------------------------------\n  // √çNDICES DE PERFORMANCE\n  // -------------------------------------------------------------------------\n\n  // Filtrado de roles activos (al listar roles disponibles)\n  @@index([isActive])\n}\n\n// -----------------------------------------------------------------------------\n// ENTIDAD CORE: Permiso At√≥mico\n// -----------------------------------------------------------------------------\n// Representa una acci√≥n espec√≠fica sobre un tipo de recurso.\n// Basado en el modelo de CASL: [Acci√≥n, Sujeto, Condiciones?]\n// \n// EJEMPLOS DE PERMISOS:\n// - { action: 'read', subject: 'Post' }\n//   ‚Üí Puede leer cualquier post\n// \n// - { action: 'delete', subject: 'Post', conditions: { authorId: '${user.id}' } }\n//   ‚Üí Solo puede eliminar sus propios posts\n// \n// - { action: 'manage', subject: 'all' }\n//   ‚Üí Permiso de super-admin (todas las acciones en todos los recursos)\n// -----------------------------------------------------------------------------\nmodel Permission {\n  id Int @id @default(autoincrement())\n\n  // -------------------------------------------------------------------------\n  // CASL: Definici√≥n de la Capacidad\n  // -------------------------------------------------------------------------\n\n  // Acci√≥n que se permite realizar (verbo).\n  // Valores est√°ndar CASL:\n  // - 'create': Crear nuevos recursos\n  // - 'read': Leer/consultar recursos\n  // - 'update': Modificar recursos existentes\n  // - 'delete': Eliminar recursos\n  // - 'manage': Todas las acciones (equivale a wildcard *)\n  // \n  // Puedes definir acciones custom: 'publish', 'approve', 'export', etc.\n  action Action\n\n  // Tipo de recurso sobre el que se aplica la acci√≥n (sustantivo).\n  // Corresponde a tus modelos de dominio: 'Post', 'User', 'Comment', 'Order'\n  // Valor especial: 'all' = aplica a todos los recursos del sistema\n  subject SubjectEnum\n\n  // Descripci√≥n legible para humanos del permiso.\n  // √ötil para interfaces de administraci√≥n y documentaci√≥n.\n  // Ejemplo: 'Permite editar posts de otros usuarios'\n  //          'Solo puede eliminar comentarios en posts propios'\n  description String?\n\n  // -------------------------------------------------------------------------\n  // ABAC: Condiciones Din√°micas (Attribute-Based Access Control)\n  // -------------------------------------------------------------------------\n\n  // Condiciones opcionales en formato JSON que deben cumplirse.\n  // Las condiciones se eval√∫an contra el recurso en tiempo de ejecuci√≥n.\n  // \n  // SINTAXIS:\n  // - Variables de usuario: ${user.id}, ${user.email}, ${user.role}\n  // - Propiedades del recurso: campos del modelo (authorId, status, etc.)\n  // \n  // EJEMPLOS:\n  // \n  // 1. Ownership (solo recursos propios):\n  //    { \"authorId\": \"${user.id}\" }\n  // \n  // 2. Estado del recurso:\n  //    { \"isPublished\": true }\n  //    { \"status\": \"draft\" }\n  // \n  // 3. Condiciones combinadas (AND impl√≠cito):\n  //    { \"authorId\": \"${user.id}\", \"status\": \"draft\" }\n  //    ‚Üí Solo puede editar sus propios borradores\n  // \n  // 4. Condiciones complejas (usando operadores de MongoDB):\n  //    { \"createdAt\": { \"$gte\": \"2024-01-01\" } }\n  //    { \"price\": { \"$lte\": 1000 } }\n  // \n  // null = Sin condiciones (permiso global en el subject)\n  conditions Json?\n\n  // -------------------------------------------------------------------------\n  // TIMESTAMPS\n  // -------------------------------------------------------------------------\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // -------------------------------------------------------------------------\n  // RELACIONES\n  // -------------------------------------------------------------------------\n\n  // Roles que incluyen este permiso\n  roles RolePermission[]\n\n  // Usuarios con este permiso asignado directamente (claims)\n  users UserPermission[]\n\n  // -------------------------------------------------------------------------\n  // √çNDICES DE PERFORMANCE Y CONSTRAINTS\n  // -------------------------------------------------------------------------\n\n  // Evita duplicados: cada par (action, subject) debe ser √∫nico\n  // Ejemplo: no puede haber dos permisos 'read' sobre 'Post'\n  // Si necesitas diferentes condiciones, usa el campo 'conditions'\n  // @@unique([action, subject])\n  // B√∫squedas comunes al evaluar permisos\n  @@index([action])\n  @@index([subject])\n}\n\n// -----------------------------------------------------------------------------\n// TABLA INTERMEDIA: Usuario ‚Üî Rol\n// -----------------------------------------------------------------------------\n// Relaci√≥n muchos-a-muchos con metadatos de auditor√≠a y control temporal.\n// \n// FLUJO DE HERENCIA:\n// User ‚Üí UserRole ‚Üí Role ‚Üí RolePermission ‚Üí Permission\n// \n// CASOS DE USO:\n// - Asignaci√≥n permanente: expiresAt = null\n// - Delegaci√≥n temporal: expiresAt = futuro (ej: reemplazo por vacaciones)\n// - Per√≠odo de prueba: expiresAt = 30 d√≠as despu√©s\n// - Sanci√≥n temporal: eliminar rol, vuelve a asignar cuando expire sanci√≥n\n// -----------------------------------------------------------------------------\nmodel UserRole {\n  userId Int\n  roleId Int\n\n  // -------------------------------------------------------------------------\n  // AUDITOR√çA: ¬øQui√©n, Cu√°ndo?\n  // -------------------------------------------------------------------------\n\n  // Timestamp de asignaci√≥n del rol\n  assignedAt DateTime @default(now())\n\n  // ID del usuario administrador que realiz√≥ la asignaci√≥n.\n  // null = Asignaci√≥n autom√°tica del sistema (ej: rol por defecto)\n  // int = ID del admin responsable\n  // \n  // Permite responder: \"¬øQui√©n le dio acceso de ADMIN a este usuario?\"\n  assignedBy Int?\n\n  // -------------------------------------------------------------------------\n  // CONTROL TEMPORAL\n  // -------------------------------------------------------------------------\n\n  // Fecha de expiraci√≥n del rol (opcional).\n  // null = Asignaci√≥n permanente\n  // timestamp futuro = Rol temporal (se ignora autom√°ticamente despu√©s de esta fecha)\n  // \n  // CASOS DE USO:\n  // 1. Acceso temporal de contratistas/consultores\n  // 2. Delegaci√≥n de autoridad durante ausencias\n  // 3. Per√≠odo de prueba con permisos elevados\n  // 4. Roles promocionales con fecha l√≠mite\n  // \n  // IMPLEMENTACI√ìN: El factory de CASL debe filtrar roles expirados:\n  // WHERE expiresAt IS NULL OR expiresAt > NOW()\n  expiresAt DateTime?\n\n  // -------------------------------------------------------------------------\n  // RELACIONES\n  // -------------------------------------------------------------------------\n\n  user User @relation(\"UserRoles\", fields: [userId], references: [id], onDelete: Cascade)\n  role Role @relation(fields: [roleId], references: [id], onDelete: Cascade)\n\n  // Relaci√≥n de auditor√≠a: usuario que asign√≥ este rol\n  assignedByUser User? @relation(\"AssignedRoles\", fields: [assignedBy], references: [id], onDelete: SetNull)\n\n  // -------------------------------------------------------------------------\n  // CONSTRAINTS E √çNDICES\n  // -------------------------------------------------------------------------\n\n  // PK compuesta: un usuario no puede tener el mismo rol duplicado\n  @@id([userId, roleId])\n  // B√∫squedas eficientes\n  @@index([userId]) // \"¬øQu√© roles tiene este usuario?\"\n  @@index([roleId]) // \"¬øQu√© usuarios tienen este rol?\"\n  @@index([expiresAt]) // Job para limpiar roles expirados\n  @@index([assignedBy]) // Auditor√≠a: \"¬øQu√© roles asign√≥ este admin?\"\n}\n\n// -----------------------------------------------------------------------------\n// TABLA INTERMEDIA: Rol ‚Üî Permiso\n// -----------------------------------------------------------------------------\n// Configura qu√© permisos at√≥micos componen cada rol.\n// Esta es la configuraci√≥n est√°tica del sistema (cambia poco, solo por admins).\n// \n// EJEMPLO:\n// Rol 'CONTENT_EDITOR' podr√≠a tener:\n// - (create, Post)\n// - (read, Post)\n// - (update, Post) con conditions: { authorId: '${user.id}' }\n// - (delete, Post) con conditions: { authorId: '${user.id}' }\n// - (read, Comment)\n// - (delete, Comment) // Sin conditions = puede borrar cualquier comentario\n// -----------------------------------------------------------------------------\nmodel RolePermission {\n  roleId       Int\n  permissionId Int\n\n  // -------------------------------------------------------------------------\n  // RELACIONES\n  // -------------------------------------------------------------------------\n\n  role       Role       @relation(fields: [roleId], references: [id], onDelete: Cascade)\n  permission Permission @relation(fields: [permissionId], references: [id], onDelete: Cascade)\n\n  // -------------------------------------------------------------------------\n  // CONSTRAINTS E √çNDICES\n  // -------------------------------------------------------------------------\n\n  // PK compuesta: un rol no puede tener el mismo permiso duplicado\n  @@id([roleId, permissionId])\n  @@index([roleId]) // \"¬øQu√© permisos tiene este rol?\"\n  @@index([permissionId]) // \"¬øEn qu√© roles se usa este permiso?\"\n}\n\n// -----------------------------------------------------------------------------\n// TABLA INTERMEDIA: Usuario ‚Üî Permiso Directo (CLAIMS)\n// -----------------------------------------------------------------------------\n// Permisos asignados directamente al usuario, sin pasar por roles.\n// Este es el mecanismo para EXCEPCIONES al modelo de roles.\n// \n// DOS MODOS DE OPERACI√ìN:\n// \n// 1. GRANT (inverted: false) - Otorgar Capacidad Extra\n//    Casos de uso:\n//    - Usuario normal necesita temporalmente permisos de admin\n//    - Excepci√≥n puntual para proyecto espec√≠fico\n//    - Delegaci√≥n de autoridad sin cambiar rol permanente\n//    Ejemplo: Usuario 'viewer' que puede 'delete' Posts temporalmente\n// \n// 2. REVOKE (inverted: true) - Quitar Capacidad Heredada\n//    Casos de uso:\n//    - Sanci√≥n: mantener rol pero quitar permisos espec√≠ficos\n//    - Per√≠odo de prueba: rol completo pero sin acciones peligrosas\n//    - Restricci√≥n temporal por incidente de seguridad\n//    Ejemplo: Usuario 'editor' que NO puede 'publish' Posts durante 30 d√≠as\n// \n// PRECEDENCIA (orden de evaluaci√≥n):\n// 1. Permisos heredados de roles (base)\n// 2. User permissions con inverted: false ( = GRANTS => suma capacidades)\n// 3. User permissions con inverted: true (= REVOKE => resta capacidades, gana sobre todo)\n//\n// En CASL, el orden en el que se definen las reglas es vital porque la √∫ltima regla que coincida es la que prevalece.\n// Al documentar que el REVOKE gana sobre todo, le est√°s diciendo al programador que debe definir las reglas en el orden\n// correcto al construir las abilities.\n// - Primero debe iterar y aplicar todos los can de los Roles.\n// - Luego debe aplicar los can de los Permisos Directos (inverted: false).\n// - Y al final de todo, debe aplicar los cannot (inverted: true).\n// Si se hiciera en otro orden (por ejemplo, poner los cannot al principio y luego los can de los roles),\n// el permiso del rol terminar√≠a \"pisando\" la prohibici√≥n y el sistema fallar√≠a. Tu comentario blinda esa l√≥gica.\n// -----------------------------------------------------------------------------\nmodel UserPermission {\n  userId       Int\n  permissionId Int\n\n  // -------------------------------------------------------------------------\n  // CONTROL DE EFECTO: Grant vs Revoke\n  // -------------------------------------------------------------------------\n\n  // Define si el permiso se OTORGA o se REVOCA.\n  // \n  // false (default) = GRANT\n  //   ‚Üí Otorga este permiso al usuario, incluso si no lo tiene por sus roles\n  //   ‚Üí Expande las capacidades del usuario\n  //   ‚Üí Ejemplo: Usuario sin rol 'delete:Post' recibe este permiso directo\n  // \n  // true = REVOKE (Inversi√≥n)\n  //   ‚Üí Proh√≠be expl√≠citamente este permiso, incluso si lo hereda de roles\n  //   ‚Üí Reduce las capacidades del usuario\n  //   ‚Üí Tiene precedencia sobre grants (la prohibici√≥n gana)\n  //   ‚Üí Ejemplo: Usuario con rol 'editor' (que incluye 'delete:Post')\n  //               pero se le revoca espec√≠ficamente ese permiso\n  // \n  // IMPLEMENTACI√ìN EN CASL:\n  // if (inverted) {\n  //   cannot(action, subject, conditions)\n  // } else {\n  //   can(action, subject, conditions)\n  // }\n  inverted Boolean @default(false)\n\n  // -------------------------------------------------------------------------\n  // AUDITOR√çA Y CONTEXTO\n  // -------------------------------------------------------------------------\n\n  // Justificaci√≥n textual de por qu√© se otorg√≥/revoc√≥ este permiso.\n  // CR√çTICO para soporte t√©cnico y auditor√≠as de seguridad.\n  // \n  // Ejemplos de razones v√°lidas:\n  // - \"Acceso temporal para proyecto X (aprobado por CTO)\"\n  // - \"Sanci√≥n por violaci√≥n de pol√≠ticas (ticket #1234)\"\n  // - \"Per√≠odo de prueba en nuevo rol (30 d√≠as)\"\n  // - \"Delegaci√≥n durante ausencia de titular (vacaciones)\"\n  // - \"Excepci√≥n por requerimiento legal (caso #ABC)\"\n  // \n  // RECOMENDACI√ìN: Hacer este campo obligatorio en la l√≥gica de negocio\n  reason String?\n\n  // Timestamp de asignaci√≥n\n  assignedAt DateTime @default(now())\n\n  // ID del administrador que otorg√≥/revoc√≥ el permiso\n  // null = Acci√≥n autom√°tica del sistema\n  assignedBy Int?\n\n  // -------------------------------------------------------------------------\n  // CONTROL TEMPORAL\n  // -------------------------------------------------------------------------\n\n  // Fecha de expiraci√≥n del permiso directo (opcional).\n  // null = Permanente\n  // timestamp futuro = Temporal\n  // \n  // CASOS DE USO:\n  // - Permisos temporales para consultores\n  // - Sanciones con tiempo l√≠mite (suspensi√≥n de 30 d√≠as)\n  // - Accesos de emergencia que expiran autom√°ticamente\n  // - Delegaciones durante ausencias\n  // \n  // IMPLEMENTACI√ìN: Filtrar en query:\n  // WHERE expiresAt IS NULL OR expiresAt > NOW()\n  expiresAt DateTime?\n\n  // -------------------------------------------------------------------------\n  // RELACIONES\n  // -------------------------------------------------------------------------\n\n  user           User       @relation(\"UserPermissions\", fields: [userId], references: [id], onDelete: Cascade)\n  permission     Permission @relation(fields: [permissionId], references: [id], onDelete: Cascade)\n  assignedByUser User?      @relation(\"AssignedPermissions\", fields: [assignedBy], references: [id], onDelete: SetNull)\n\n  // -------------------------------------------------------------------------\n  // CONSTRAINTS E √çNDICES\n  // -------------------------------------------------------------------------\n\n  // PK compuesta: un usuario no puede tener el mismo permiso duplicado\n  // (aunque el campo 'inverted' podr√≠a cambiar, solo debe existir uno)\n  @@id([userId, permissionId])\n  @@index([userId]) // \"¬øQu√© permisos directos tiene este usuario?\"\n  @@index([permissionId]) // \"¬øQu√© usuarios tienen este permiso directo?\"\n  @@index([inverted]) // Auditor√≠a: \"¬øQu√© permisos est√°n revocados?\"\n  @@index([expiresAt]) // Job para limpiar permisos expirados\n  @@index([assignedBy]) // Auditor√≠a: \"¬øQu√© permisos asign√≥ este admin?\"\n}\n\n// -----------------------------------------------------------------------------\n// EJEMPLO: Recurso Protegido\n// -----------------------------------------------------------------------------\n// Modelo de dominio sobre el cual se aplican los permisos.\n// Cada recurso debe tener campos relevantes para evaluar conditions.\n// -----------------------------------------------------------------------------\nmodel Post {\n  id      Int    @id @default(autoincrement())\n  title   String\n  content String\n\n  // Campo usado en conditions para ownership\n  // Ejemplo condition: { \"authorId\": \"${user.id}\" }\n  authorId Int\n\n  // Campo usado en conditions para estado\n  // Ejemplo condition: { \"isPublished\": false }\n  isPublished Boolean @default(false)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // -------------------------------------------------------------------------\n  // √çNDICES PARA CONDICIONES FRECUENTES\n  // -------------------------------------------------------------------------\n\n  @@index([authorId]) // Condiciones de ownership\n  @@index([isPublished]) // Condiciones de estado\n  @@index([authorId, isPublished]) // Condiciones combinadas\n}\n",
  "runtimeDataModel": {
    "models": {},
    "enums": {},
    "types": {}
  }
}

config.runtimeDataModel = JSON.parse("{\"models\":{\"User\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"password\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"deactivatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deactivationReason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lastLoginAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"roles\",\"kind\":\"object\",\"type\":\"UserRole\",\"relationName\":\"UserRoles\"},{\"name\":\"assignedRoles\",\"kind\":\"object\",\"type\":\"UserRole\",\"relationName\":\"AssignedRoles\"},{\"name\":\"directPermissions\",\"kind\":\"object\",\"type\":\"UserPermission\",\"relationName\":\"UserPermissions\"},{\"name\":\"assignedPermissions\",\"kind\":\"object\",\"type\":\"UserPermission\",\"relationName\":\"AssignedPermissions\"}],\"dbName\":null},\"Role\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"permissions\",\"kind\":\"object\",\"type\":\"RolePermission\",\"relationName\":\"RoleToRolePermission\"},{\"name\":\"users\",\"kind\":\"object\",\"type\":\"UserRole\",\"relationName\":\"RoleToUserRole\"}],\"dbName\":null},\"Permission\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"action\",\"kind\":\"enum\",\"type\":\"Action\"},{\"name\":\"subject\",\"kind\":\"enum\",\"type\":\"SubjectEnum\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"conditions\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"roles\",\"kind\":\"object\",\"type\":\"RolePermission\",\"relationName\":\"PermissionToRolePermission\"},{\"name\":\"users\",\"kind\":\"object\",\"type\":\"UserPermission\",\"relationName\":\"PermissionToUserPermission\"}],\"dbName\":null},\"UserRole\":{\"fields\":[{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"roleId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"assignedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"assignedBy\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserRoles\"},{\"name\":\"role\",\"kind\":\"object\",\"type\":\"Role\",\"relationName\":\"RoleToUserRole\"},{\"name\":\"assignedByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"AssignedRoles\"}],\"dbName\":null},\"RolePermission\":{\"fields\":[{\"name\":\"roleId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"permissionId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"role\",\"kind\":\"object\",\"type\":\"Role\",\"relationName\":\"RoleToRolePermission\"},{\"name\":\"permission\",\"kind\":\"object\",\"type\":\"Permission\",\"relationName\":\"PermissionToRolePermission\"}],\"dbName\":null},\"UserPermission\":{\"fields\":[{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"permissionId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"inverted\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"reason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"assignedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"assignedBy\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserPermissions\"},{\"name\":\"permission\",\"kind\":\"object\",\"type\":\"Permission\",\"relationName\":\"PermissionToUserPermission\"},{\"name\":\"assignedByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"AssignedPermissions\"}],\"dbName\":null},\"Post\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"content\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"authorId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isPublished\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null}},\"enums\":{},\"types\":{}}")

async function decodeBase64AsWasm(wasmBase64: string): Promise<WebAssembly.Module> {
  const { Buffer } = await import('node:buffer')
  const wasmArray = Buffer.from(wasmBase64, 'base64')
  return new WebAssembly.Module(wasmArray)
}

config.compilerWasm = {
  getRuntime: async () => await import("@prisma/client/runtime/query_compiler_bg.sqlite.js"),

  getQueryCompilerWasmModule: async () => {
    const { wasm } = await import("@prisma/client/runtime/query_compiler_bg.sqlite.wasm-base64.js")
    return await decodeBase64AsWasm(wasm)
  }
}



export type LogOptions<ClientOptions extends Prisma.PrismaClientOptions> =
  'log' extends keyof ClientOptions ? ClientOptions['log'] extends Array<Prisma.LogLevel | Prisma.LogDefinition> ? Prisma.GetEvents<ClientOptions['log']> : never : never

export interface PrismaClientConstructor {
    /**
   * ## Prisma Client
   * 
   * Type-safe database client for TypeScript
   * @example
   * ```
   * const prisma = new PrismaClient()
   * // Fetch zero or more Users
   * const users = await prisma.user.findMany()
   * ```
   * 
   * Read more in our [docs](https://pris.ly/d/client).
   */

  new <
    Options extends Prisma.PrismaClientOptions = Prisma.PrismaClientOptions,
    LogOpts extends LogOptions<Options> = LogOptions<Options>,
    OmitOpts extends Prisma.PrismaClientOptions['omit'] = Options extends { omit: infer U } ? U : Prisma.PrismaClientOptions['omit'],
    ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs
  >(options: Prisma.Subset<Options, Prisma.PrismaClientOptions> ): PrismaClient<LogOpts, OmitOpts, ExtArgs>
}

/**
 * ## Prisma Client
 * 
 * Type-safe database client for TypeScript
 * @example
 * ```
 * const prisma = new PrismaClient()
 * // Fetch zero or more Users
 * const users = await prisma.user.findMany()
 * ```
 * 
 * Read more in our [docs](https://pris.ly/d/client).
 */

export interface PrismaClient<
  in LogOpts extends Prisma.LogLevel = never,
  in out OmitOpts extends Prisma.PrismaClientOptions['omit'] = undefined,
  in out ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs
> {
  [K: symbol]: { types: Prisma.TypeMap<ExtArgs>['other'] }

  $on<V extends LogOpts>(eventType: V, callback: (event: V extends 'query' ? Prisma.QueryEvent : Prisma.LogEvent) => void): PrismaClient;

  /**
   * Connect with the database
   */
  $connect(): runtime.Types.Utils.JsPromise<void>;

  /**
   * Disconnect from the database
   */
  $disconnect(): runtime.Types.Utils.JsPromise<void>;

/**
   * Executes a prepared raw query and returns the number of affected rows.
   * @example
   * ```
   * const result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`
   * ```
   *
   * Read more in our [docs](https://pris.ly/d/raw-queries).
   */
  $executeRaw<T = unknown>(query: TemplateStringsArray | Prisma.Sql, ...values: any[]): Prisma.PrismaPromise<number>;

  /**
   * Executes a raw query and returns the number of affected rows.
   * Susceptible to SQL injections, see documentation.
   * @example
   * ```
   * const result = await prisma.$executeRawUnsafe('UPDATE User SET cool = $1 WHERE email = $2 ;', true, 'user@email.com')
   * ```
   *
   * Read more in our [docs](https://pris.ly/d/raw-queries).
   */
  $executeRawUnsafe<T = unknown>(query: string, ...values: any[]): Prisma.PrismaPromise<number>;

  /**
   * Performs a prepared raw query and returns the `SELECT` data.
   * @example
   * ```
   * const result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`
   * ```
   *
   * Read more in our [docs](https://pris.ly/d/raw-queries).
   */
  $queryRaw<T = unknown>(query: TemplateStringsArray | Prisma.Sql, ...values: any[]): Prisma.PrismaPromise<T>;

  /**
   * Performs a raw query and returns the `SELECT` data.
   * Susceptible to SQL injections, see documentation.
   * @example
   * ```
   * const result = await prisma.$queryRawUnsafe('SELECT * FROM User WHERE id = $1 OR email = $2;', 1, 'user@email.com')
   * ```
   *
   * Read more in our [docs](https://pris.ly/d/raw-queries).
   */
  $queryRawUnsafe<T = unknown>(query: string, ...values: any[]): Prisma.PrismaPromise<T>;


  /**
   * Allows the running of a sequence of read/write operations that are guaranteed to either succeed or fail as a whole.
   * @example
   * ```
   * const [george, bob, alice] = await prisma.$transaction([
   *   prisma.user.create({ data: { name: 'George' } }),
   *   prisma.user.create({ data: { name: 'Bob' } }),
   *   prisma.user.create({ data: { name: 'Alice' } }),
   * ])
   * ```
   * 
   * Read more in our [docs](https://www.prisma.io/docs/concepts/components/prisma-client/transactions).
   */
  $transaction<P extends Prisma.PrismaPromise<any>[]>(arg: [...P], options?: { isolationLevel?: Prisma.TransactionIsolationLevel }): runtime.Types.Utils.JsPromise<runtime.Types.Utils.UnwrapTuple<P>>

  $transaction<R>(fn: (prisma: Omit<PrismaClient, runtime.ITXClientDenyList>) => runtime.Types.Utils.JsPromise<R>, options?: { maxWait?: number, timeout?: number, isolationLevel?: Prisma.TransactionIsolationLevel }): runtime.Types.Utils.JsPromise<R>

  $extends: runtime.Types.Extensions.ExtendsHook<"extends", Prisma.TypeMapCb<OmitOpts>, ExtArgs, runtime.Types.Utils.Call<Prisma.TypeMapCb<OmitOpts>, {
    extArgs: ExtArgs
  }>>

      /**
   * `prisma.user`: Exposes CRUD operations for the **User** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more Users
    * const users = await prisma.user.findMany()
    * ```
    */
  get user(): Prisma.UserDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.role`: Exposes CRUD operations for the **Role** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more Roles
    * const roles = await prisma.role.findMany()
    * ```
    */
  get role(): Prisma.RoleDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.permission`: Exposes CRUD operations for the **Permission** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more Permissions
    * const permissions = await prisma.permission.findMany()
    * ```
    */
  get permission(): Prisma.PermissionDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.userRole`: Exposes CRUD operations for the **UserRole** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more UserRoles
    * const userRoles = await prisma.userRole.findMany()
    * ```
    */
  get userRole(): Prisma.UserRoleDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.rolePermission`: Exposes CRUD operations for the **RolePermission** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more RolePermissions
    * const rolePermissions = await prisma.rolePermission.findMany()
    * ```
    */
  get rolePermission(): Prisma.RolePermissionDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.userPermission`: Exposes CRUD operations for the **UserPermission** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more UserPermissions
    * const userPermissions = await prisma.userPermission.findMany()
    * ```
    */
  get userPermission(): Prisma.UserPermissionDelegate<ExtArgs, { omit: OmitOpts }>;

  /**
   * `prisma.post`: Exposes CRUD operations for the **Post** model.
    * Example usage:
    * ```ts
    * // Fetch zero or more Posts
    * const posts = await prisma.post.findMany()
    * ```
    */
  get post(): Prisma.PostDelegate<ExtArgs, { omit: OmitOpts }>;
}

export function getPrismaClientClass(): PrismaClientConstructor {
  return runtime.getPrismaClient(config) as unknown as PrismaClientConstructor
}
